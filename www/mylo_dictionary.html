<!-- this file resides on the KIT109 2023 Semester 2 mylo site, you DON'T need this in your own mylo site for this to function.
https://mylo.utas.edu.au/d2l/lp/manageFiles/main.d2l?ou=598976-->
<!DOCTYPE html>
<html><head><link rel="stylesheet" href="https://s.brightspace.com/lib/fonts/0.5.0/fonts.css"><script type="text/javascript">
    function loadFallbackScript() {
        $ = window.parent.$;
        //go through the outerHTML of the entire page and find any instances of ${key} and replace it with the fallback text
        let html = $("body").html();
        console.log({html});
        let keys = html.match(/\${\w+}/g);
        keys = keys ? keys.map(key => key.substring(2, key.length - 1)) : [];
        keys = [...new Set(keys)];
        keys.forEach(key => {
            //set the value to the un-camel-cased version of the key
            let value = key.replace(/([A-Z])/g, " $1").toLowerCase();
            //capitalize each word
            value = value.split(" ").map(word => word.charAt(0).toUpperCase() + word.substring(1)).join(" ");
            //append "not found"
            value += " not found";
            if (value != null)
            {
                html = html.replace(new RegExp("\\${" + key + "}", "g"), value);
            }
        });
        //also remove all iframes
        html = html.replace(/<iframe.*?\/iframe>/g, "");
        $("body").html(html);

    }
    </script></head><body style="color: rgb(32, 33, 34); font-family: Lato, sans-serif;">
<p>
<script src="https://utasbot.dev/static/mylo_dictionary.js"  onerror="loadFallbackScript()"></script>

</p></body></html>